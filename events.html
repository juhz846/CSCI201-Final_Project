<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title color = "white" >201 Ticketing</title>
    <link rel = stylesheet href = "events.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script>
       function goToEventPage() {
            var eventName = document.getElementById("searchbox").value;
            eventName = eventName.replace(/\s+/g, '');
            
            // Check if the event exists
            if (!checkEventExists(eventName)) {
                alert("Event not found. Please try again.");
            } 
            else {
                window.location.href = eventName + ".html";
            }
        }

        function checkEventExists(eventName) {
            console.log(eventName);
            // Extract event names from event cards
            var eventCards = document.getElementsByClassName("event-card");
            var eventNames = [];
            for (var i = 0; i < eventCards.length; i++) {
                var name = eventCards[i].querySelector("h3").innerText.toLowerCase();
                name = name.replace(/\s+/g, '');
                eventNames.push(name);
            }

            // Check if eventName matches any known event names
            return eventNames.includes(eventName.toLowerCase());
        }
    </script>

</head>

<body style = "font-family: Poppins, sans-serif;"> 
    <nav>
        <h1>201 ticketing</h1>
        <div>
            <button id="signin-btn"><a href="events.html">Sign in</a></button>
            <button id="profile-btn"><i class="fa fa-user"></i></button>
        </div>


    </nav>
    <main>
        <h1 align="center">EXPLORE EVENTS</h1>
        <div class = "search">
            <input type = "text" placeholder="  Search for artists, venues, and events                  " id = "searchbox">
            <button  type="submit"><i class="fa fa-search" aria-hidden="true" onclick = "goToEventPage()""></i></button>

        </div>
        <div class="event-grid">
            <div class="row">
                <div class="event-card">
                    <br>
                    <img src= "img/brunomars.jpeg" width = "200" height = "200"
                    alt = "Bruno Mars">
                    <div id="description">
                        <div id="left">
                            <h3>Bruno Mars</h3>
                            <p>May 26</p>
                        </div>
                        <div id="right">
                            <p>$100</p>
                            <p>Los Angeles, CA</p>
                        </div>
                    </div>
                </div>
                <div class="event-card">
                    <br>
                    <img src= "img/taylorswift.jpeg" width = "200" height = "200"
                    alt = "Taylor Swift">
                    <div id="description">
                        <div id="left">
                            <h3>Taylor Swift</h3>
                            <p>October 26</p>
                        </div>
                        <div id="right">
                            <p>$800</p>
                            <p>San Francisco, CA</p>
                        </div>
                    </div>
                </div>
                <div class="event-card">
                    <br>
                    <img src= "img/gsw.jpeg" width = "200" height = "200"
                    alt = "Golden State Warriors">
                    <div id="description">
                        <div id="left">
                            <h3>Golden State Warriors</h3>
                            <p>Jan 26</p>
                        </div>
                        <div id="right">
                            <p>$300</p>
                            <p>Los Angeles, CA</p>
                        </div>
                    </div>
                </div>
            </div>
            

    </main>
</body>